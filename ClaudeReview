Executive Summary
APIC is a well-architected multi-agent consulting system, but it has accumulated complexity that could be simplified. This review identifies 27 simplification opportunities across 7 categories.

1. REDUNDANT SERVICE LAYERS
1.1 Remove Unused/Underutilized Services
ServiceFileIssueRecommendationLLMCachesrc/services/llm_cache.pyCaching adds complexity but LLM calls are infrequent per projectRemove unless benchmarks show benefitWebhookManagersrc/services/webhook_manager.pyNo evidence of webhook consumers configuredRemove or defer until actually neededAnalyticssrc/services/analytics.pyAdds overhead without clear usageRemove unless actively used for dashboards
1.2 Consolidate Retry Handlers
CurrentRecommendationllm_retry.py + db_retry.pyMerge into single retry.py with generic decorator
Files to modify:

src/services/llm_retry.py - Remove
src/services/db_retry.py - Remove
src/services/retry.py - Create unified retry decorator


2. AGENT SIMPLIFICATIONS
2.1 Simplify Hypothesis Generator 3-Tier System
Current: Complex 3-tier fallback (Document → AI-generated → Generic patterns)
Problem: Over-engineered; Tier 2 and Tier 3 rarely provide value over Tier 1
Recommendation: Remove Tier 2 and Tier 3; let LLM handle missing hypotheses naturally
File: src/agents/hypothesis.py
2.2 Remove Keyword-Based Pattern Matching
Current: HypothesisGeneratorAgent uses both keyword matching AND LLM analysis
Problem: Keyword matching is redundant when LLM does the same job better
Recommendation: Remove keyword matching logic, rely solely on LLM
File: src/agents/hypothesis.py
2.3 Simplify BaseAgent
Current: BaseAgent has multiple factory methods and utility functions
Recommendation:

Move get_llm() and get_embeddings() to a standalone src/services/llm_factory.py
Keep BaseAgent minimal (just the process() interface)

File: src/agents/base.py

3. CONFIGURATION SIMPLIFICATIONS
3.1 Eliminate Redundant Config Files
CurrentIssueRecommendationconfig/settings.pyMain settingsKeepconfig/agent_config.pyAgent config schemaMerge into settings.pyconfig/agents.yamlAgent registryInline into settings.py as defaults
Benefit: Single source of truth, easier to understand
3.2 Simplify Multi-Provider LLM Support
Current: Supports OpenAI, Anthropic, Google with per-agent configuration
Problem: Over-flexible; most deployments use one provider
Recommendation:

Default to single provider (OpenAI)
Remove per-agent provider switching unless explicitly needed
Keep ability to switch globally via env var

Files:

config/settings.py
src/agents/base.py

3.3 Remove Prompt YAML Files
Current: config/prompts/*.yaml loaded via PromptManager
Problem: Adds indirection; prompts are rarely changed without code changes
Recommendation: Inline prompts as Python constants in each agent file
Files to remove:

config/prompts/interview_architect_prompts.yaml
src/utils/prompt_manager.py


4. API ROUTE SIMPLIFICATIONS
4.1 Consolidate API Routes
Current: 3 separate route files
src/api/routes/
├── projects.py
├── documents.py
└── workflow.py
Recommendation: Merge into single routes.py (total ~300 lines, manageable)
Benefit: Easier navigation, fewer imports, simpler structure
4.2 Remove URL Upload Feature
Current: POST /documents/upload-urls supports URL-based document ingestion
Problem: Rarely used, adds complexity (URL fetching, error handling)
Recommendation: Remove; users can download files manually
File: src/api/routes/documents.py

5. MODEL/SCHEMA SIMPLIFICATIONS
5.1 Reduce Enum Granularity
Current:
pythonclass Severity: LOW, MEDIUM, HIGH, CRITICAL
class Complexity: LOW, MEDIUM, HIGH
class TaskCategory: AUTOMATABLE, PARTIALLY_AUTOMATABLE, HUMAN_ONLY
```

**Recommendation:**
- Merge `Severity` and `Complexity` into single `Priority` enum (LOW, MEDIUM, HIGH)
- Keep `TaskCategory` as-is (distinct meaning)

**File:** `src/models/schemas.py`

### 5.2 Flatten Nested Pydantic Models
**Current:** Deep nesting like `Report.findings[].gaps[].recommendations[]`
**Recommendation:** Flatten where possible; use references instead of nesting

**File:** `src/models/schemas.py`

---

## 6. FRONTEND SIMPLIFICATIONS

### 6.1 Reduce Streamlit App Size
**Current:** `frontend/app.py` is ~80KB with everything in one file
**Recommendation:**
- Split into `pages/` directory (Streamlit native multi-page)
- OR simplify UI by removing advanced features

### 6.2 Remove Duplicate State Management
**Current:** Frontend maintains its own state + calls API for state
**Recommendation:** Use API as single source of truth; remove frontend caching

**File:** `frontend/app.py`

---

## 7. INFRASTRUCTURE SIMPLIFICATIONS

### 7.1 Simplify Docker Setup
**Current:** Multi-stage Dockerfile with separate targets for API/frontend
**Recommendation:** Single image with process manager (supervisord) or separate simple Dockerfiles

**Files:**
- `Dockerfile`
- `docker-compose.yml`

### 7.2 Reduce Requirements Files
**Current:**
```
requirements.txt
requirements-core.txt
requirements-dev.txt
requirements-optional.txt
```

**Recommendation:** Consolidate to:
```
requirements.txt (production)
requirements-dev.txt (adds testing/linting)
```

### 7.3 Simplify Makefile
**Current:** 15+ targets with complex dependencies
**Recommendation:** Reduce to essential targets:
- `make install`
- `make test`
- `make run`
- `make docker`

---

## 8. CODE-LEVEL SIMPLIFICATIONS

### 8.1 Remove Defensive Over-Engineering
| Pattern | Location | Recommendation |
|---------|----------|----------------|
| Excessive null checks | Throughout agents | Trust internal contracts |
| Redundant logging | All agents | Reduce to ERROR + key INFO |
| Unused error branches | `workflow.py` | Remove dead code |

### 8.2 Simplify State Management
**Current:** `StateManager` has complex PostgreSQL persistence + LangGraph state
**Recommendation:**
- Use LangGraph's built-in checkpointing
- Remove custom `StateManager` class

**Files:**
- `src/services/state_manager.py` - Simplify significantly
- `src/services/workflow.py` - Use LangGraph checkpointing

### 8.3 Remove Interview Script Multi-Format
**Current:** `InterviewScriptGenerator` outputs PDF, DOCX, and Markdown
**Recommendation:** Output Markdown only; let users convert if needed

**File:** `src/services/interview_script_generator.py`

---

## 9. TESTING SIMPLIFICATIONS

### 9.1 Consolidate Test Files
**Current:** 9 test files with overlapping coverage
**Recommendation:** Consolidate to:
```
tests/
├── test_agents.py      (all agent tests)
├── test_api.py         (all endpoint tests)
├── test_workflow.py    (integration tests)
└── conftest.py         (shared fixtures)
9.2 Remove Installation Tests
File: tests/test_installation.py
Recommendation: Remove; CI/CD handles this

10. DOCUMENTATION SIMPLIFICATIONS
10.1 Merge README Files
Current: README.md + README_Dev.md
Recommendation: Single README.md with sections

PRIORITIZED ACTION ITEMS
High Impact / Low Effort (Do First)

Remove unused services (llm_cache.py, webhook_manager.py, analytics.py)
Consolidate retry handlers into one file
Remove prompt YAML files, inline prompts
Merge config files into settings.py
Consolidate requirements files

Medium Impact / Medium Effort

Remove 3-tier hypothesis fallback
Remove keyword matching from hypothesis generator
Consolidate API routes into single file
Remove URL upload feature
Simplify StateManager to use LangGraph checkpointing

Lower Priority (Consider Later)

Reduce enum granularity
Flatten Pydantic models
Split Streamlit app into pages
Simplify Docker setup
Consolidate test files


ESTIMATED SIMPLIFICATION IMPACT
MetricBeforeAfterReductionService files7357%Config files4175%API route files3167%Test files9456%Requirements files4250%Total Python files~35~25~30%

VERIFICATION PLAN
After implementing simplifications:

Run full test suite: make test
Start API and verify endpoints: python main.py api
Test complete workflow:

Create project
Upload document
Start analysis
Submit transcript
Download report


Verify Docker build: docker-compose up --build
